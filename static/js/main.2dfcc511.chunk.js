(this["webpackJsonpjoshua-tree"]=this["webpackJsonpjoshua-tree"]||[]).push([[0],{107:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return z}));var n,i=r(57),o=r(19),s=r(9),a=r(13),u=r(34),l=r(33),c=r(4),h=r(0),f=r(20),d=r(26),p=r(42),g=r(15),v=r(16),y=r(79),m=r(7),b=r(115),S=r(39),O=r(112),k=r(17),j=r(30),w=r(28),x=r(5),I=r(75),F=r(76),E=r(108),T=r(44),L=Number.MIN_SAFE_INTEGER,R=/\s+/gm,M=/^[0-9|a-f]+$/g,C=/[0-9]/g,P=/\\at|\\lb|\\rb|\\n|\\s/g,N=/\\at|\\n|\\s/g,A=new O.a,D=function(e){Object(u.a)(h,e);var r=Object(l.a)(h);function h(t){var e;return Object(s.a)(this,h),(e=r.call(this,t)).actions=[],e.content=[],e.contentCached=[],e.currentOptionStyles={},e.currentOptionHighlightStyles={},e.currentOutputStyles={},e.entries={},e.errorMessage="",e.fork="",e.log=[],e.logCached=[],e.options=[],e.optionsCached=[],e.stopEvaluation=!1,e.textboxHidden=!0,e.timers=[],e.variables={},e.variablesPrev={},e.getRestartLink=function(){return e.addOption(e.props.authorStorySettings.authorStoryStrings.restartLinkText||"restart",e.restartGame,f.h)},e.onTextboxKeyPress=function(t){13===t.charCode&&(e.actions.forEach((function(e){e(t.currentTarget.value)})),t.currentTarget.value="")},e.restartGame=function(){e.refreshInterpreter();var t=Object.keys(e.entries);e.setFork(t[0])},e.refreshInterpreter(),e}return Object(a.a)(h,[{key:"shouldComponentUpdate",value:function(t){var e=t;return n&&e.authorStorySettings.authorStoryRunnerOptions.randomSeed===n.seed||(n=new E.a(e.authorStorySettings.authorStoryRunnerOptions.randomSeed)),this.contentCached=this.content.map((function(t){return t(e)})),this.logCached=this.log.map((function(t){return t(e)})),this.optionsCached=this.options.map((function(t){return t(e)})),!0}},{key:"addInput",value:function(t){return function(e){return Object(c.jsx)("p",{style:Object(T.b)(e.theme,e.debugging?{}:e.playerStorySettings.playerStoryInputStyles,{},e.authorStorySettings.authorStoryInputStyles,T.a.input),children:t},"".concat(f.d,"-").concat(L++))}}},{key:"addOption",value:function(t,e,r){var n=this,i=Object.assign({},this.currentOptionStyles),s=this.props,a="function"===typeof e?e:function(){s.authorStorySettings.authorStoryRunnerOptions.hideLog||s.authorStorySettings.authorStoryRunnerOptions.logLimit&&!(s.authorStorySettings.authorStoryRunnerOptions.logLimit>0)||n.content.push(n.addInput(t)),n.setFork(e)};return function(e){var n=Object(T.b)(e.theme,e.debugging?{}:e.playerStorySettings.playerStoryOptionStyles,i,e.authorStorySettings.authorStoryOptionStyles,T.a.option),s=Object(T.b)(e.theme,e.debugging?{}:e.playerStorySettings.playerStoryOptionHighlightStyles,i,e.authorStorySettings.authorStoryOptionHighlightStyles,T.a.optionHighlight);return Object(c.jsx)(y.a,{onClick:a,styles:{root:Object(o.a)(Object(o.a)({},n),{},{display:"block",fontSize:"16px"}),rootFocused:Object(o.a)({},s),rootHovered:Object(o.a)({},s)},text:t},r||"".concat(f.g,"-").concat(L++))}}},{key:"addOutput",value:function(t){var e=Object.assign({},this.currentOutputStyles);return function(r){var n=Object(T.b)(r.theme,r.debugging?{}:r.playerStorySettings.playerStoryOutputStyles,e,r.authorStorySettings.authorStoryOutputStyles,T.a.output);return Object(c.jsx)("span",{style:n,children:t},"".concat(f.j,"-").concat(L++))}}},{key:"loadFile",value:function(){}},{key:"loadFork",value:function(){var t;if(this.updateLog(),this.content=[],this.options=[],this.textboxHidden=!0,this.timers.forEach((function(t){clearTimeout(t)})),this.timers=[],this.actions=[],void 0!==(t=this.entries[this.fork])){this.variablesPrev={};for(var e=Object.keys(this.variables),r=0;r<e.length;r++)this.variablesPrev[e[r]]=this.variables[e[r]];this.preorderProcess(t,""),this.stopEvaluation||(this.visitFork(),this.refreshInterpreterGui())}else this.setErrorMessage("Interpreter: fork '"+this.fork+"' not found.")}},{key:"processHeaderOptions",value:function(t){var e=this.props;this.refreshInterpreter();for(var r=t.split("\n"),n=0;n<r.length;n++){for(var i=r[n],s=i.split(" "),a="",u=1;u<s.length;u++)a+=s[u]+" ";if(a=a.trim(),i.startsWith("link-style-text"))e.dispatchSetTempStoryRunnerOptions(Object(o.a)(Object(o.a)({},e.currentStorySettings.currentRunnerSettings),{},{discreteInlineLinks:!0}));else if(i.startsWith("option-default-disable"))e.dispatchSetTempStoryRunnerOptions(Object(o.a)(Object(o.a)({},e.currentStorySettings.currentRunnerSettings),{},{hideRestartLink:!0}));else if(i.startsWith("option-color")||i.startsWith("option-hover-color")||i.startsWith("background-color")){var l="";M.test(a)?6!==a.length&&3!==a.length?this.setErrorMessage("Interpreter: In the line '"+i+"', color must be given in hex format using 3 or 6 digits. For example, f00 or 8800f0."):3!==a.length&&6!==a.length||(l=a.substring(0,a.length)):this.setErrorMessage("Interpreter: In the line '"+i+"', color must be given in hex format. It can only include numbers 1-9 and upper or lowercase a-f."),i.startsWith("option-color")?(this.currentOptionStyles.colorDark=l,this.currentOptionStyles.colorLight=l):i.startsWith("option-color-light")?this.currentOptionStyles.colorLight=l:i.startsWith("option-color-dark")?this.currentOptionStyles.colorDark=l:i.startsWith("option-hover-color")?(this.currentOptionHighlightStyles.colorDark=l,this.currentOptionHighlightStyles.colorLight=l):i.startsWith("option-hover-color-light")?this.currentOptionHighlightStyles.colorLight=l:i.startsWith("option-hover-color-dark")?this.currentOptionHighlightStyles.colorDark=l:i.startsWith("background-color")?e.dispatchSetAuthorStoryRunnerStyles({background:Object(o.a)(Object(o.a)({},e.authorStorySettings.authorStoryRunnerStyles),{},{colorDark:l,colorLight:l,type:"plain"})}):i.startsWith("background-color-light")?e.dispatchSetAuthorStoryRunnerStyles({background:Object(o.a)(Object(o.a)({},e.authorStorySettings.authorStoryRunnerStyles),{},{colorLight:l,type:"plain"})}):i.startsWith("background-color-dark")&&e.dispatchSetAuthorStoryRunnerStyles({background:Object(o.a)(Object(o.a)({},e.authorStorySettings.authorStoryRunnerStyles),{},{colorDark:l,type:"plain"})})}else if(i.startsWith("output-font-size")||i.startsWith("option-font-size")){if(!S.a.test(a)){this.setErrorMessage("Interpreter: In line '"+i+"', a number must be specified after the option.");continue}var c=parseFloat(a);if(c<=0){this.setErrorMessage("Interpreter: In line '"+i+"', numbers must be greater than zero.");continue}i.startsWith("output-font-size")?this.currentOutputStyles.fontSize=c.toString():i.startsWith("option-font-size")&&(this.currentOptionStyles.fontSize=c.toString())}else i.startsWith("option-font")?this.currentOptionStyles.font="".concat(a,"; ").concat(g.g):i.startsWith("output-font")&&(this.currentOutputStyles.font="".concat(a,"; ").concat(g.g))}}},{key:"refreshInterpreterGui",value:function(){this.refreshInterpreterGuiStyles(),this.props.dispatchRerenderStory()}},{key:"render",value:function(){this.refreshInterpreterGuiStyles();var t=this.props,e=0!==this.options.length||t.authorStorySettings.authorStoryRunnerOptions.hideRestartLink?[]:[this.getRestartLink()],r=[Object(c.jsx)("div",{id:f.f,children:this.logCached},f.f),Object(c.jsx)("div",{id:f.c,children:this.contentCached},f.c),Object(c.jsxs)("div",{id:f.i,children:[this.optionsCached,e]},f.i)],n=this.props.debugging&&""!==this.errorMessage?Object(c.jsx)(b.a,{messageBarType:m.a.error,children:this.errorMessage}):void 0,i=this.textboxHidden?void 0:Object(c.jsx)("input",{autoComplete:"nah",name:"textfield",id:f.e,onKeyPress:this.onTextboxKeyPress,style:Object(g.m)(this.props.theme.theme),type:"text"},f.e);return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)("div",{className:g.o,children:[Object(c.jsx)("div",{className:g.n,children:r}),n,i]})})}},{key:"saveFile",value:function(){}},{key:"setEntries",value:function(t){this.entries=t}},{key:"setEntriesWithFork",value:function(t,e){this.content=[],this.log=[],this.options=[],this.entries=t,this.errorMessage="";var r=Object.keys(this.entries);0===r.length?this.setErrorMessage("Interpreter: cannot play story. It contains no forks. Use @ at the beginning of a line to denote an fork."):""!==e&&r.includes(e)?this.setFork(e):this.setFork(r[0])}},{key:"setErrorMessage",value:function(t){this.errorMessage=null!==t&&void 0!==t?t:"",this.refreshInterpreterGui()}},{key:"setFork",value:function(t){this.fork=t,this.stopEvaluation=!1,this.loadFork()}},{key:"escapeText",value:function(t,e){return e?t.replace(P,(function(t){switch(t){case"\\at":return"@";case"\\n":return"\n";case"\\s":return"\\";case"\\lb":return"{";case"\\rb":return"}"}return t})):t.replace(N,(function(t){switch(t){case"\\at":return"@";case"\\n":return"\n";case"\\s":return"\\"}return t}))}},{key:"preorderProcess",value:function(t,e){if(this.processIf(t,e)){this.processText(t);for(var r=0;r<t.children.length;r++){if(this.stopEvaluation)return;this.preorderProcess(t.children[r],e)}}}},{key:"processIf",value:function(e,r){var n=this,i=this.props;if(""===e.condition.trim())return!0;var o=e.condition.substring(2).trim(),s=o.split(" ");if(0===s.length)return this.setErrorMessage("The line if '"+o+"' is incorrectly formatted."),!1;if(s.length>1&&"timer"===s[0]&&"is"===s[1]){if(s.length<2)return this.setErrorMessage("The timer must be set with a time specified in seconds."),!1;if(!S.a.test(s[2]))return this.setErrorMessage("Interpreter: In line '"+o+"', the third word must be numeric."),!1;var a=parseFloat(s[2]);if(isNaN(a)||!isFinite(a))return this.setErrorMessage("Interpreter: In line '"+o+"', the time must be numeric and not too large."),!1;if(a<=0)return this.setErrorMessage("Interpreter: In line '"+o+"', the time must be positive and non-zero."),!1;var u=t.setTimeout((function(){n.processText(e);for(var t=0;t<e.children.length;t++)n.preorderProcess(e.children[t],r)}),1e3*a);return this.timers.push(u),!1}if(s.length>1&&"text"===s[0]&&("is"===s[1]||"!is"===s[1]||"has"===s[1]||"!has"===s[1]||"pick"===s[1])){this.textboxHidden=!1;for(var l="",c=2;c<s.length;c++)l+=s[c]+" ";if(""===(l=this.escapeText(l.toLowerCase().trim(),!0))&&this.setErrorMessage("Interpreter: In the line 'if "+o+"', at least one word to look for must be specified after 'pick'."),"pick"===s[1]){for(var h=l.split(","),f=0;f<h.length;f++)h[f]=h[f].replace("\\c",",").trim();if(""===r)this.actions.push((function(t){t=t.toLowerCase().trim();for(var r=!1,o=0;o<h.length;o++){new RegExp("\\b"+h[o]+"\\b").test(t)&&(r=!0)}if(r){i.authorStorySettings.authorStoryRunnerOptions.hideLog||i.authorStorySettings.authorStoryRunnerOptions.logLimit&&!(i.authorStorySettings.authorStoryRunnerOptions.logLimit>0)||n.content.push(n.addInput(t)),n.processText(e);for(var s=0;s<e.children.length;s++)n.preorderProcess(e.children[s],t);n.refreshInterpreterGui()}}));else{r=r.toLowerCase().trim();for(var d=!1,p=0;p<h.length;p++){new RegExp("\\b"+h[p]+"\\b").test(r)&&(d=!0)}if(!d)return!1;this.processText(e);for(var g=0;g<e.children.length;g++)this.preorderProcess(e.children[g],r)}}else if(s[1].endsWith("is")){if(""===r)this.actions.push((function(t){if(t=t.toLowerCase().trim(),"is"===s[1]&&t===l||"!is"===s[1]&&t!==l){i.authorStorySettings.authorStoryRunnerOptions.hideLog||i.authorStorySettings.authorStoryRunnerOptions.logLimit&&!(i.authorStorySettings.authorStoryRunnerOptions.logLimit>0)||n.content.push(n.addInput(t)),n.processText(e);for(var r=0;r<e.children.length;r++)n.preorderProcess(e.children[r],t)}n.refreshInterpreterGui()}));else if("is"===s[1]&&r===l||"!is"===s[1]&&r!==l){this.processText(e);for(var v=0;v<e.children.length;v++)this.preorderProcess(e.children[v],r)}}else if(s[1].endsWith("has")){for(var y=l.split(","),m=0;m<y.length;m++)y[m]=y[m].replace("\\c",",").trim();if(""===r)this.actions.push((function(t){t=t.toLowerCase().trim();for(var r=0;r<y.length;r++){var o=new RegExp("\\b"+y[r]+"\\b").test(t);if("has"===s[1]&&!o||"!has"===s[1]&&o)return}i.authorStorySettings.authorStoryRunnerOptions.hideLog||i.authorStorySettings.authorStoryRunnerOptions.logLimit&&!(i.authorStorySettings.authorStoryRunnerOptions.logLimit>0)||n.content.push(n.addInput(t)),n.processText(e);for(var a=0;a<e.children.length;a++)n.preorderProcess(e.children[a],t);n.refreshInterpreterGui()}));else{for(var b=0;b<y.length;b++){var O=new RegExp("\\b"+y[b]+"\\b").test(r);if("has"===s[1]&&!O||"!has"===s[1]&&O)return!1}this.processText(e);for(var x=0;x<e.children.length;x++)this.preorderProcess(e.children[x],r)}}return!1}A.optIncludeUnknowns=!0,A.resetTokens();var I=Object.keys(this.variables),F=this.variables["visited"+this.fork];A.addIdentifier(new w.a("visited",F));for(var E=0;E<I.length;E++){var T=I[E],L=this.variables[I[E]];A.addIdentifier(new w.a(T,L))}A.addFunction(new j.a("exists",1,(function(t){return t[0]instanceof k.a?t[0]:new k.a(!(t[0]instanceof w.a))})));var R="";try{R=A.eval(s.join(" "))}catch(M){return M instanceof Error?this.setErrorMessage(M.message):this.setErrorMessage(M),!1}return"true"===R||"false"===R?"true"===R:(this.setErrorMessage("Interpreter: In the line 'if "+s.join(" ")+"', the expression must be boolean (true or false), but was null instead."),!1)}},{key:"processText",value:function(t){for(var e=this,r=t.text;r.length>0;){var i=r.indexOf("\n"),o=void 0,s=(o=i>=0?r.substring(0,i):r).split(" ");if(""===o.trim())r=r.substring(i+1);else if(o.includes("@@")){var a=o.substring(o.indexOf("@")+2).replace(R,"").toLowerCase(),u=this.escapeText(o.substring(0,o.indexOf("@")).trim(),!1);""===a?this.setErrorMessage("Interpreter: there was no fork name given to option '"+u+"'."):""===u.trim()?this.setErrorMessage("Interpreter: the option linking to '"+a+"' has no displayable text specified."):void 0===this.entries[a]?this.setErrorMessage("Interpreter: the fork in the option '"+u+"@"+a+"' doesn't exist."):this.options.push(this.addOption(u,a)),r=r.substring(r.indexOf("\n")+1)}else if(o.includes("@")){var l=o.indexOf("@"),c=o.substring(l+1).replace(R,"").toLowerCase(),h=this.escapeText(o.substring(0,l).trim(),!1);""===c?this.setErrorMessage("Interpreter: there was no fork name given to option '"+h+"'."):""===h.trim()?this.setErrorMessage("Interpreter: the option linking to '"+c+"' has no displayable text specified."):this.options.push(this.addOption(h,c)),r=r.substring(r.indexOf("\n")+1)}else if(o.includes("{")){var f=r.indexOf("{"),d=r.indexOf("}"),p=r.substring(f,d+1);if(d<f){this.setErrorMessage("Interpreter: In the line '"+o+"', right braces should follow left braces. "),r=r.substring(r.indexOf("\n")+1);continue}p.includes("***}")?this.currentOutputStyles.fontStyle="ib":p.includes("**}")?this.currentOutputStyles.fontStyle="b":p.includes("*}")?this.currentOutputStyles.fontStyle="i":this.currentOutputStyles.fontStyle=void 0,p=this.escapeText(p.replace("{","").replace("***}","").replace("**}","").replace("*}","").replace("}",""),!0),this.content.push(this.addOutput(p)),r=r.substring(0,f)+r.substring(d+1,r.length)}else if(r.startsWith("set")){A.optIncludeUnknowns=!1,A.resetTokens();for(var g=Object.keys(this.variables),v=0;v<g.length;v++){var y=g[v],m=this.variables[g[v]];("number"===typeof m||"boolean"===typeof m)&&A.addIdentifier(new w.a(y,m))}A.addFunction(new j.a("random",1,(function(t){if(t[0]instanceof x.a){var e=t[0];return new x.a(n.nextNumber()*e.value+1)}return null})));var b=s.indexOf("=");-1!==b?function(){var t=s.slice(1,b),r=s.slice(b+1),n="",i=null;if(1===t.length){try{n=A.eval(r.join(" "))}catch(a){a instanceof Error?e.setErrorMessage("Interpreter: In the line '"+o+"', "+a.message):e.setErrorMessage("Interpreter: In the line '"+o+", "+a)}"true"===n||"false"===n?i="true"===n:S.a.test(n)?i=parseFloat(n):e.setErrorMessage("Interpreter: In the line '"+o+"', the expression "+r.join(" ")+" should be a number, but "+n+" was computed instead."),g.includes(t[0])?e.variables[t[0]]=i:C.test(t[0][0])||A.getTokens().some((function(e){return e.strForm===t[0]}))?e.setErrorMessage("Interpreter: In the line '"+o+"', the variable '"+t[0]+"' is a name used for math or is a number."):e.variables[t[0]]=i}else e.setErrorMessage("Interpreter: In the line '"+o+", the phrase "+t.join(" ")+" must be a variable name without spaces.")}():function(){var t=s.slice(1),r="",n=null;if(t.length>0)if(1===t.length)if(t[0].startsWith("!")){var i=t[0].substring(1);g.includes(i)?e.variables[i]=!1:t.length>0&&C.test(t[0][0])||A.getTokens().some((function(t){return t.strForm===i}))?e.setErrorMessage("Interpreter: In the line '"+o+"', the variable '"+i+"' is a number or is used for math."):e.variables[i]=!1}else g.includes(t[0])?e.variables[t[0]]=!0:t.length>0&&C.test(t[0][0])||A.getTokens().some((function(e){return e.strForm===t[0]}))?e.setErrorMessage("Interpreter: In the line '"+o+"', the variable '"+t[0]+"' is a number or is used for math."):e.variables[t[0]]=!0;else if(g.includes(t[0])){try{r=A.eval(t.join(" "))}catch(a){a instanceof Error?e.setErrorMessage("Interpreter: In the line '"+o+"', "+a.message):e.setErrorMessage("Interpreter: In the line '"+o+"', "+a)}"true"===r||"false"===r?n="true"===r:S.a.test(r)?n=parseFloat(r):e.setErrorMessage("Interpreter: In the line '"+o+"', the expression "+t.join(" ")+" should be a number, but "+r+" was computed instead."),e.variables[t[0]]=n}else e.setErrorMessage("Interpreter: In the line '"+o+"', the variable "+t[0]+" doesn't exist yet.");else e.setErrorMessage("Interpreter: In the line '"+o+"', you need to provide a variable name to set, using syntax like set a, set !a, or a mathematical expression.")}(),r=i>=0?r.substring(r.indexOf("\n")+1):""}else if(r.startsWith("get"))2===s.length?void 0!==this.variables[s[1]]?this.content.push(this.addOutput(this.variables[s[1]].toString())):this.setErrorMessage("Interpreter: In the line '"+o+"', variable "+s[1]+" does not exist."):this.setErrorMessage("Interpreter: In the line '"+o+"', only one word can follow 'get'."),r=i>=0?r.substring(r.indexOf("\n")+1):"";else if(r.startsWith("goto")){var O=o.substring(4).replace(R,"").toLowerCase();if(void 0!==this.entries[O])return this.visitFork(),this.setFork(O),void(this.stopEvaluation=!0);this.setErrorMessage("Interpreter: In the line '"+r+"', cannot navigate to fork '"+O+"' because it does not exist."),r=i>=0?r.substring(r.indexOf("\n")+1):""}else if(r.startsWith("color")){var k=o.substring(5).trim().toLowerCase();M.test(k)?6!==k.length&&3!==k.length?this.setErrorMessage("Interpreter: In the line '"+o+"', color must be given in hex format using 3 or 6 digits. For example, f00 or 8800f0."):(this.currentOutputStyles.colorDark=k,this.currentOutputStyles.colorLight=k):this.setErrorMessage("Interpreter: In the line '"+o+"', color must be given in hex format. It can only include numbers 1-9 and upper or lowercase a-f."),r=i>=0?r.substring(r.indexOf("\n")+1):""}else this.setErrorMessage("Interpreter: In the line '"+o+"', unexpected symbols encountered. Ensure all output text is wrapped in single braces and there are no extra braces inside."),r=r.substring(r.indexOf("\n")+1)}}},{key:"refreshInterpreter",value:function(){this.actions=[],this.content=[],this.currentOptionStyles={},this.currentOptionHighlightStyles={},this.currentOutputStyles={},this.errorMessage="",this.fork="",this.log=[],this.options=[],this.timers=[],this.variables={},this.variablesPrev={},this.refreshInterpreterGuiStyles()}},{key:"refreshInterpreterGuiStyles",value:function(){var t=this.props,e=document.getElementById(f.k);e&&("plain"===t.playerStorySettings.playerStoryRunnerStyles.background.type?e.style.backgroundColor=t.theme.localizedName===v.a.light.localizedName?t.playerStorySettings.playerStoryRunnerStyles.background.colorLight||v.a.light.theme.semanticColors.bodyBackground:t.playerStorySettings.playerStoryRunnerStyles.background.colorDark||v.a.dark.theme.semanticColors.bodyBackground:"plain"===t.authorStorySettings.authorStoryRunnerStyles.background.type&&(e.style.backgroundColor=t.theme.localizedName===v.a.light.localizedName?t.authorStorySettings.authorStoryRunnerStyles.background.colorLight||v.a.light.theme.semanticColors.bodyBackground:t.authorStorySettings.authorStoryRunnerStyles.background.colorDark||v.a.dark.theme.semanticColors.bodyBackground))}},{key:"updateLog",value:function(){var t,e=this.props;e.authorStorySettings.authorStoryRunnerOptions.hideLog||0===e.authorStorySettings.authorStoryRunnerOptions.logLimit?this.log=[]:(t=this.log).push.apply(t,Object(i.a)(this.content))}},{key:"visitFork",value:function(){void 0===this.variables["visited"+this.fork]&&(this.variables["visited"+this.fork]=!0)}}]),h}(h.Component),z=Object(d.b)((function(t){return{authorStorySettings:t.authorStorySettings,currentStorySettings:t.currentRunnerSettings,playerStorySettings:t.playerStorySettings,renderTrigger:t.viewEdit.storyRerenderToken,theme:t.settings.theme}}),(function(t){return{dispatchRerenderStory:Object(p.a)(t),dispatchSetAuthorStoryRunnerStyles:Object(F.b)(t),dispatchSetTempStoryRunnerOptions:Object(I.b)(t)}}),void 0,{forwardRef:!0})(D)}).call(this,r(66))},108:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(9),i=r(13),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;Object(n.a)(this,t),this.mt=new Array(t.N),this.mti=t.N+1,this.seed=null,this.seed=null==e?(new Date).getTime():e,this.init_genrand(this.seed)}return Object(i.a)(t,[{key:"init_genrand",value:function(e){for(this.mt[0]=e>>>0,this.mti=1;this.mti<t.N;this.mti++){var r=this.mt[this.mti-1]^this.mt[this.mti-1]>>>30;this.mt[this.mti]=(1812433253*((4294901760&r)>>>16)<<16)+1812433253*(65535&r)+this.mti,this.mt[this.mti]>>>=0}}},{key:"_nextInt32",value:function(){var e,r=[0,t.MATRIX_A];if(this.mti>=t.N){var n;for(this.mti===t.N+1&&this.init_genrand(5489),n=0;n<t.N-t.M;n++)e=this.mt[n]&t.UPPER_MASK|this.mt[n+1]&t.LOWER_MASK,this.mt[n]=this.mt[n+t.M]^e>>>1^r[1&e];for(;n<t.N-1;n++)e=this.mt[n]&t.UPPER_MASK|this.mt[n+1]&t.LOWER_MASK,this.mt[n]=this.mt[n+(t.M-t.N)]^e>>>1^r[1&e];e=this.mt[t.N-1]&t.UPPER_MASK|this.mt[0]&t.LOWER_MASK,this.mt[t.N-1]=this.mt[t.M-1]^e>>>1^r[1&e],this.mti=0}return e=this.mt[this.mti++],e^=e>>>11,e^=e<<7&2636928640,e^=e<<15&4022730752,(e^=e>>>18)>>>0}},{key:"nextInt32",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=this._nextInt32();return null==t?e:e%(t[1]-t[0])+t[0]}},{key:"nextInt31",value:function(){return this._nextInt32()>>>1}},{key:"nextNumber",value:function(){return this._nextInt32()*(1/4294967295)}},{key:"nextNumber53",value:function(){return(67108864*(this._nextInt32()>>>5)+(this._nextInt32()>>>6))*(1/9007199254740992)}}]),t}();o.N=624,o.M=397,o.MATRIX_A=2567483615,o.UPPER_MASK=2147483648,o.LOWER_MASK=2147483647},11:function(t,e,r){"use strict";r.d(e,"a",(function(){return i}));var n=Number.MIN_SAFE_INTEGER,i=function(){return(++n).toString()}},112:function(t,e,r){"use strict";r.d(e,"a",(function(){return v}));var n,i,o,s=r(57),a=r(9),u=r(13);(i=n||(n={}))[i.left=0]="left",i[i.right=1]="right",function(t){t[t.left=0]="left",t[t.right=1]="right",t[t.both=2]="both"}(o||(o={}));var l=r(17),c=r(30),h=r(28),f=r(5),d=function(){function t(e,r,n,i,s){Object(a.a)(this,t),this.strForm=void 0,this.placement=void 0,this.assoc=void 0,this.prec=void 0,this.numArgs=void 0,this.function=void 0,this.placement=e,this.assoc=r,this.prec=n,e===o.both?this.numArgs=2:this.numArgs=1,this.strForm=i,this.function=s}return Object(u.a)(t,[{key:"equals",value:function(t){return this.strForm===t.strForm&&this.placement===t.placement&&this.assoc===t.assoc&&this.prec===t.prec&&this.numArgs===t.numArgs&&this.function===t.function}}]),t}(),p=function(){function t(e){Object(a.a)(this,t),this.strForm=void 0,this.strForm=e}return Object(u.a)(t,[{key:"equals",value:function(t){return this.strForm===t.strForm}}]),t}(),g=r(39),v=function(){function t(){var e=this;Object(a.a)(this,t),this.optRequireRightPars=!1,this.optIncludeUnknowns=!0,this.optUnknownDefault=null,this.Fsin=new c.a("sin",1,(function(t){if(t[0]instanceof f.a){var e=t[0];return new f.a(Math.sin(e.value))}return null})),this.Fcos=new c.a("cos",1,(function(t){if(t[0]instanceof f.a){var e=t[0];return new f.a(Math.cos(e.value))}return null})),this.Ftan=new c.a("tan",1,(function(t){if(t[0]instanceof f.a){var e=t[0];return new f.a(Math.tan(e.value))}return null})),this.Frnd=new c.a("round",1,(function(t){if(t[0]instanceof f.a){var e=t[0];return new f.a(Math.round(e.value))}return null})),this.Frnd2=new c.a("round",2,(function(t){if(t[0]instanceof f.a&&t[1]instanceof f.a){var e=t[0],r=t[1];return new f.a(Math.round(e.value/r.value)*r.value)}return null})),this.Add=new d(o.both,n.left,6,"+",(function(t){if(t[0]instanceof f.a&&t[1]instanceof f.a){var e=t[0],r=t[1];return new f.a(e.value+r.value)}return null})),this.Sub=new d(o.both,n.left,6,"-",(function(t){if(t[0]instanceof f.a&&t[1]instanceof f.a){var e=t[0],r=t[1];return new f.a(e.value-r.value)}return null})),this.Mlt=new d(o.both,n.left,7,"*",(function(t){if(t[0]instanceof f.a&&t[1]instanceof f.a){var e=t[0],r=t[1];return new f.a(e.value*r.value)}return null})),this.Div=new d(o.both,n.left,7,"/",(function(t){if(t[0]instanceof f.a&&t[1]instanceof f.a){var e=t[0],r=t[1];if(0===r.value)throw new Error("Parser: The expression ".concat(e.strForm," / ").concat(r.strForm," causes division by zero."));return new f.a(e.value/r.value)}return null})),this.Mod=new d(o.both,n.left,7,"%",(function(t){if(t[0]instanceof f.a&&t[1]instanceof f.a){var e=t[0],r=t[1];if(0===r.value)throw new Error("Parser: The expression ".concat(e.strForm," % ").concat(r.strForm," causes division by zero."));return new f.a(e.value%r.value)}return null})),this.Neg=new d(o.right,n.right,8,"-",(function(t){if(t[1]instanceof f.a){var e=t[1];return new f.a(-e.value)}return null})),this.Exp=new d(o.both,n.right,8,"^",(function(t){if(t[0]instanceof f.a&&t[1]instanceof f.a){var e=t[0],r=t[1];return new f.a(Math.pow(e.value,r.value))}return null})),this.Fac=new d(o.left,n.left,9,"!",(function(t){if(t[0]instanceof f.a){for(var e=t[0],r=e.value,n=1;e.value>1;)n*=r--;return new f.a(n)}return null})),this.Eq=new d(o.both,n.left,4,"=",(function(t){if(t[0]instanceof f.a&&t[1]instanceof f.a){var e=t[0],r=t[1];return new l.a(e.value===r.value)}if(t[0]instanceof l.a&&t[1]instanceof l.a){var n=t[0],i=t[1];return new l.a(n.value===i.value)}return null})),this.NotEq=new d(o.both,n.left,4,"!=",(function(t){if(t[0]instanceof f.a&&t[1]instanceof f.a){var e=t[0],r=t[1];return new l.a(e.value!==r.value)}if(t[0]instanceof l.a&&t[1]instanceof l.a){var n=t[0],i=t[1];return new l.a(n.value!==i.value)}return null})),this.Gt=new d(o.both,n.left,5,">",(function(t){if(t[0]instanceof f.a&&t[1]instanceof f.a){var e=t[0],r=t[1];return new l.a(e.value>r.value)}return null})),this.Gte=new d(o.both,n.left,5,">=",(function(t){if(t[0]instanceof f.a&&t[1]instanceof f.a){var e=t[0],r=t[1];return new l.a(e.value>=r.value)}return null})),this.Lt=new d(o.both,n.left,5,"<",(function(t){if(t[0]instanceof f.a&&t[1]instanceof f.a){var e=t[0],r=t[1];return new l.a(e.value<r.value)}return null})),this.Lte=new d(o.both,n.left,5,"<=",(function(t){if(t[0]instanceof f.a&&t[1]instanceof f.a){var e=t[0],r=t[1];return new l.a(e.value<=r.value)}return null})),this.LogNot=new d(o.right,n.left,3,"!",(function(t){if(t[1]instanceof l.a){var e=t[1];return new l.a(!e.value)}return null})),this.LogAnd=new d(o.both,n.left,1,"&",(function(t){if(t[0]instanceof l.a&&t[1]instanceof l.a){var e=t[0],r=t[1];return new l.a(e.value&&r.value)}return null})),this.LogOr=new d(o.both,n.left,2,"|",(function(t){if(t[0]instanceof l.a&&t[1]instanceof l.a){var e=t[0],r=t[1];return new l.a(e.value||r.value)}return null})),this.varFalse=new h.a("false",!1),this.varTrue=new h.a("true",!0),this.varPi=new h.a("pi",Math.PI),this.lPar=new p("("),this.rPar=new p(")"),this.argSep=new p(","),this.tokens=[],this.evalNoPar=function(t,r){for(var i=e.tokens.filter((function(t){return t instanceof d})),a=[],u="",h=0;h<t.length;h++)u+=t[h].strForm;if(e.optRequireRightPars&&t[0]===e.lPar&&t[t.length-1]!==e.rPar)throw new Error("Parser: The expression '"+u+"' is missing a right parenthesis at the end.");if(t.filter((function(t){return t===e.lPar||t===e.rPar})),0===t.length)throw new Error("Parser: an empty parenthesis group was provided; there is nothing to process within it.");if(null!==r){var p=e.split(t,e.argSep),g=[];if(r.numArgs!==p.length)throw new Error("Parser: In expression '"+u+"', the number of arguments for "+r.strForm+" should be "+r.numArgs+", but "+p.length+" arguments were given.");for(var v=0;v<p.length;v++){var y=e.evalNoPar(p[v],null);if(!(y[0]instanceof f.a||y[0]instanceof l.a))throw new Error("Parser: In expression '"+u+"', a boolean argument was provided instead of a decimal value.");g[v]=y[0]}var m=r.function(g);if(null===m)throw new Error("Parser: In expression '"+u+"', arguments do not match parameter types used.");return a.push(m),a}t[0]===e.Sub&&(t[0]=e.Neg);for(var b=1;b<t.length;b++)(t[b]===e.Sub&&t[b-1]instanceof d&&(t[b-1].numArgs>1||t[b-1]===e.Neg)||t[b-1]instanceof c.a)&&(t[b]=e.Neg);var S=t.filter((function(t){return t instanceof d})),O=0;S.forEach((function(t){t.prec>O&&(O=t.prec)}));for(var k=function(){for(var e=i.some((function(t){return O===t.prec&&t.assoc===n.right})),r=e?t.length-1:0;e&&r>=0||!e&&r<t.length;){if(t[r]instanceof d&&t[r].prec===O){var s,a,l,c=t[r],h=[null!==(s=t[r-1])&&void 0!==s?s:null,null!==(a=t[r+1])&&void 0!==a?a:null];if(null===h[0]&&(c.placement===o.both||c.placement===o.left))throw new Error("Parser: In '"+u+"', the '"+t[r].strForm+"' operator is missing a lefthand operand.");if(null===h[1]&&(c.placement===o.both||c.placement===o.right))throw new Error("Parser: In '"+u+"', the '"+t[r].strForm+"' operator is missing a righthand operand.");if(null===(l=c.function(h)))throw new Error("In expression '"+u+"', operand type(s) do not match operator.");t[r]=l,c.placement===o.left?(t.splice(r-1,1),r+=e?0:-1):c.placement===o.right?(t.splice(r+1,1),r+=e?1:0):c.placement===o.both&&(t.splice(r+1,1),t.splice(r-1,1),r+=e?0:-1)}e?r--:r++}S=t.filter((function(t){return t instanceof d}));var f=0;S.forEach((function(t){t.prec>f&&(f=t.prec)}))};O>0;)k();return a.push.apply(a,Object(s.a)(t)),a},this.resetTokens()}return Object(u.a)(t,[{key:"addFunction",value:function(t){this.tokens.push(new c.a(t.strForm.toLowerCase(),t.numArgs,t.function)),this.tokens=this.tokens.sort((function(t,e){return t.strForm<e.strForm?1:-1}))}},{key:"addIdentifier",value:function(t){this.tokens.push(new h.a(t.strForm.toLowerCase(),t.value)),this.tokens=this.tokens.sort((function(t,e){return t.strForm<e.strForm?1:-1}))}},{key:"addOperator",value:function(t){this.tokens.push(new d(t.placement,t.assoc,t.prec,t.strForm.toLowerCase(),t.function)),this.tokens=this.tokens.sort((function(t,e){return t.strForm<e.strForm?1:-1}))}},{key:"eval",value:function(t){return this.evalTokens(this.tokenize(t))}},{key:"evalTokens",value:function(t){for(var e=this,r=0;r<t.length;r++)if(t[r]instanceof h.a){var n=t[r];if(null!==n.value)"number"===typeof n.value?t[r]=new f.a(n.value):"boolean"===typeof n.value&&(t[r]=new l.a(n.value));else{if(null===this.optUnknownDefault)throw new Error("Parser: The identifier '"+t[r].strForm+"' is unknown and can't be computed.");t[r]=this.optUnknownDefault}}for(var i=this.tokens.filter((function(t){return t instanceof c.a}));;){var o,a,u=t.indexOf(this.rPar)+1,d=u>=1?u:t.length,p=t.slice(0,d).lastIndexOf(this.lPar),g=p>=0?p:0,v=t.slice(0,g),y=t.slice(d,t.length),m=t.slice(g,d),b=null;if(v[v.length-1]instanceof c.a&&function(){var t,r=v[v.length-1];v.splice(v.length-1,1);var n=1;m.forEach((function(t){t===e.argSep&&n++})),b=null!==(t=i.find((function(t){return t.numArgs===n&&t.strForm===r.strForm})))&&void 0!==t?t:null}(),(o=t=v).push.apply(o,Object(s.a)(this.evalNoPar(m,b))),(a=t).push.apply(a,Object(s.a)(y)),0===v.length&&0===y.length){for(var S="",O=0;O<t.length;O++)S+=t[O].strForm;return S}}}},{key:"getTokens",value:function(){return this.tokens}},{key:"removeToken",value:function(t){for(var e=this.tokens.length;e>0;e--)if(t.equals(this.tokens[e]))return this.tokens.splice(e,1),!0;return!1}},{key:"resetTokens",value:function(){this.tokens=[this.Exp,this.Neg,this.Mod,this.Div,this.Mlt,this.Sub,this.Add,this.LogNot,this.LogOr,this.LogAnd,this.Eq,this.Gt,this.Gte,this.Lt,this.Lte,this.NotEq,this.Fsin,this.Fcos,this.Ftan,this.Frnd,this.Frnd2,this.varFalse,this.varTrue,this.varPi,this.lPar,this.rPar,this.argSep],this.tokens=this.tokens.sort((function(t,e){return t.strForm<e.strForm?1:-1}))}},{key:"split",value:function(t,e){for(var r=[],n=[],i=0;i<t.length;i++)t[i]===e?r.push([].concat(n)):n.push(t[i]);return n.length>0&&r.push(n),r}},{key:"tokenize",value:function(t){var e=[],r="";if(""===t.trim())throw new Error("Parser: No expression provided.");t=t.replace(/\s/gm,"").toLowerCase();for(var n=null,i=null,o=null,s=0;s<t.length;s++){var a,u;if(r+=t[s],n=this.tokens.filter((function(t){return t.strForm===r}))[0],s!==t.length-1&&(null===(a=n)||void 0===a?void 0:a.strForm.length)>r.length)(null===(u=i=this.tokens.filter((function(t){return t.strForm===r}))[0])||void 0===u?void 0:u.strForm)===r&&(o=i,s===t.length-1&&(e.push(i),r="",o=null));else if(null===n||s===t.length-1&&n.strForm.length!==r.length)if(null!==o)s-=r.length-o.strForm.length,e.push(o),r="",o=null;else if(g.a.test(r)){var l=parseFloat(r);s!==t.length-1&&g.a.test(r+t[s+1])||(e.push(new f.a(l)),r="")}else{if(!this.optIncludeUnknowns)throw new Error("Parser: token '"+r+"' is not a recognized symbol.");e.push(new h.a(r[0].toString(),null)),s-=r.length-1,r=""}else e.push(n),r="",o=null}for(var c=[],v="",y=0;y<e.length;y++){if(y===e.length-1||e[y+1]instanceof d||e[y+1]instanceof p){if(""!==v){if(v+=e[y].strForm,this.optIncludeUnknowns){c.push(new h.a(v,null)),v="";continue}throw new Error("Parser: token '"+v+"' is not a recognized symbol.")}}else if(!(e[y]instanceof d||e[y]instanceof p)&&(""!==v||!(e[y]instanceof f.a))){v+=e[y].strForm;continue}e[y]===this.Neg?c.push(this.Sub):c.push(e[y])}return c}}]),t}()},135:function(t,e,r){},142:function(t,e,r){"use strict";r.r(e);var n=r(4),i=r(0),o=r(52),s=r.n(o),a=(r(135),r(26)),u=r(191),l=r(18),c=r(113),h=r(47),f=r.n(h),d=r(61),p=r(9),g=r(13),v=r(34),y=r(33),m=r(54),b=r(50),S=r(21),O=r(16),k=r(11),j={setLocale:Object(k.a)(),setTheme:Object(k.a)()},w=function(t){return{localeId:t,type:j.setLocale}},x=r(2),I=function(t){return function(){var e=Object(d.a)(f.a.mark((function e(r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:document.body.style.backgroundColor=r.theme.semanticColors.bodyBackground,t({theme:{localizedName:r.localizedName,theme:r.theme},type:j.setTheme});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},F=function(t){return function(){var e=Object(d.a)(f.a.mark((function e(r){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(w(r));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},E=Object(S.c)({locale:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Object(m.b)(),e=arguments.length>1?arguments[1]:void 0;return e.type===j.setLocale?e.localeId:t},theme:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{localizedName:O.a.light.localizedName,theme:Object(x.z)(O.a.light.theme)},e=arguments.length>1?arguments[1]:void 0;return e.type===j.setTheme?e.theme:t}}),T="JoshuaTree",L=function(t){if(t.persistence.userConsentProvided){var e="";Object.keys(O.a).forEach((function(r){O.a[r].localizedName===t.settings.theme.localizedName&&(e=r)}));var r={localeId:t.settings.locale,saveFormatVersion:1,themeName:e};localStorage.setItem(T,JSON.stringify(r))}},R=function(){var t=localStorage.getItem(T);if(null===t)return null;var e={};try{e=JSON.parse(t)}catch(r){return null}return e.localeId&&e.themeName&&e.saveFormatVersion?e:null},M={setCustomizationApplied:Object(k.a)(),setUserConsentProvided:Object(k.a)()},C=function(t){return function(e){t({consentProvided:e,type:M.setUserConsentProvided})}},P=Object(S.c)({customizationApplied:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1?arguments[1]:void 0;return e.type===M.setCustomizationApplied?e.isApplied:t},userConsentProvided:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e=arguments.length>1?arguments[1]:void 0;return e.type===M.setUserConsentProvided?e.consentProvided:t}}),N=r(15),A=r(19),D=r(117),z=r(110),W=function(t){Object(v.a)(r,t);var e=Object(y.a)(r);function r(){return Object(p.a)(this,r),e.apply(this,arguments)}return Object(g.a)(r,[{key:"render",value:function(){var t=this.props.dropdown,e=t.styles,r=Object(D.a)(t,["styles"]),i=e;return Object(n.jsx)(z.a,Object(A.a)(Object(A.a)({},r),{},{styles:Object(N.c)(this.props.theme.theme,i)}))}}]),r}(i.Component),B=Object(a.b)((function(t){return{theme:t.settings.theme}}))(W),H=r(42),_=r(111),K=r(116);var U,q=i.createRef(),G=function(t){Object(v.a)(r,t);var e=Object(y.a)(r);function r(){var t;Object(p.a)(this,r);for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];return(t=e.call.apply(e,[this].concat(o))).applyLocalStorage=function(){var e=R();null!==e&&(e.localeId in b.a&&t.props.setLocale(e.localeId),null!==O.a[e.themeName]&&t.props.setTheme(O.a[e.themeName]))},t.getLocaleDropdownOptionKey=function(t){return"userSettingsLocaleOptions".concat(t)},t.renderLocaleDropdown=function(){var e=[];Object.keys(b.a).forEach((function(r){e.push({data:r,key:t.getLocaleDropdownOptionKey(r),text:b.a[r].LanguageCodeName})}));return Object(n.jsx)(B,{dropdown:{defaultSelectedKey:t.getLocaleDropdownOptionKey(t.props.locale),onRenderTitle:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(K.a,{iconName:"LocaleLanguage",styles:N.i}),Object(n.jsx)("span",{style:{fontSize:"".concat(t.props.wholeTheme.fonts.large)},children:b.a[t.props.locale].LanguageCodeName})]})},options:e,onChange:function(e,r){if(void 0!==r){var n=r.data;t.props.setLocale(n).then((function(){L(t.props.reduxState)}))}}}})},t.getThemeDropdownOptionKey=function(t){return"userSettingsThemeOptions".concat(t)},t.renderThemeDropdown=function(){var e=[];Object.keys(O.a).forEach((function(r){var n=O.a[r];e.push({data:n,key:t.getThemeDropdownOptionKey(n.localizedName),text:n.localizedName})}));return Object(n.jsx)(B,{dropdown:{defaultSelectedKey:t.getThemeDropdownOptionKey(t.props.themeName),onRenderTitle:function(){return Object(n.jsx)("span",{style:{fontSize:"".concat(t.props.wholeTheme.fonts.large)},children:t.props.strings.ThemeDropdownText(t.props.themeName)})},options:e,onChange:function(e,r){if(void 0!==r){var n=r.data;t.props.setTheme(n).then((function(){L(t.props.reduxState)}))}},styles:Object(N.b)(t.props.wholeTheme)}})},t}return Object(g.a)(r,[{key:"componentDidMount",value:function(){this.props.userConsentProvided&&this.applyLocalStorage()}},{key:"render",value:function(){var t=this,e=[{className:Object(N.d)(this.props.wholeTheme,!0),data:U.mainMenuFileNew,key:"userSettingsCommandBarFileMenuNew",name:this.props.strings.MenuFileNew,iconProps:{iconName:"FabricNewFolder"},onClick:function(){return $(U.mainMenuFileNew)}},{className:Object(N.d)(this.props.wholeTheme,!0),data:U.mainMenuFileOpen,key:"userSettingsCommandBarFileMenuOpen",name:this.props.strings.MenuFileOpen,iconProps:{iconName:"OpenFolderHorizontal"},onClick:function(){return $(U.mainMenuFileOpen)}},{className:Object(N.d)(this.props.wholeTheme),data:U.mainMenuFileSave,key:"userSettingsCommandBarFileMenuSave",name:this.props.strings.MenuFileSave,iconProps:{iconName:"Save"},onClick:function(){return $(U.mainMenuFileSave)}}],r=[{ariaLabel:this.props.strings.TipTheme,key:"userSettingsCommandBarChosenTheme",onRender:this.renderThemeDropdown,buttonStyles:Object(N.a)()},{ariaLabel:this.props.strings.TipLanguage,key:"userSettingsCommandBarChosenLocale",onRender:this.renderLocaleDropdown}],i=function(){var e=Object(d.a)(f.a.mark((function e(r){var n,i;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(n=r.target.files)&&((i=new FileReader).onloadend=function(){var e=i.result;t.props.setStory(e)},i.readAsText(n[0]));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("input",{className:N.h,onChange:i,ref:q,type:"file"}),Object(n.jsx)(_.a,{ariaLabel:this.props.strings.TipNavigateCommandBar,items:e,farItems:r,styles:N.e})]})}}]),r}(i.Component),J=Object(a.b)((function(t){return{locale:t.settings.locale,reduxState:t,strings:Object(m.a)(t.settings.locale),themeName:t.settings.theme.localizedName,userConsentProvided:t.persistence.userConsentProvided,wholeTheme:Object(x.x)()}}),(function(t){return{setConsent:C(t),setLocale:F(t),setStory:Object(H.c)(t),setTheme:I(t)}}))(G);!function(t){t.mainMenuFileNew="mainMenuFileNew",t.mainMenuFileOpen="mainMenuFileOpen",t.mainMenuFileSave="mainMenuFileSave"}(U||(U={}));var Q={function:function(){!function(){var t;null===(t=q.current)||void 0===t||t.click()}()}},V={function:function(){alert("Invoked file -> save.")}},X={mainMenuFileNew:{functionsToInvoke:[{function:function(){alert("Invoked file -> new.")}}],guid:U.mainMenuFileNew,shortcuts:[{originalSequence:[{key:"N",usesShift:!0}]}]},mainMenuFileOpen:{functionsToInvoke:[Q],guid:U.mainMenuFileOpen,shortcuts:[{originalSequence:[{key:"O",usesShift:!0}]}]},mainMenuFileSave:{functionsToInvoke:[V],guid:U.mainMenuFileSave,shortcuts:[{originalSequence:[{key:"S",usesShift:!0}]}]}},$=function(t,e){var r,n;!0!==X[t].enableWhileTyping&&("textarea"===(null===(r=document.activeElement)||void 0===r?void 0:r.nodeName.toLowerCase())||"input"===(null===(n=document.activeElement)||void 0===n?void 0:n.nodeName.toLowerCase())&&"text"===document.activeElement.getAttribute("type"))||!0!==X[t].disabled&&X[t].functionsToInvoke.forEach((function(t){!0!==t.disabled&&t.function(e)}))},Y=r(20),Z=r(114),tt=function(t){Object(v.a)(r,t);var e=Object(y.a)(r);function r(){var t;Object(p.a)(this,r);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return(t=e.call.apply(e,[this].concat(i))).runStory=function(){var e=document.getElementById(Y.a).value;t.props.saveAndRunStory(e)},t.updateStory=function(e){t.props.story!==e.currentTarget.value&&t.props.setStory(e.currentTarget.value)},t}return Object(g.a)(r,[{key:"componentDidUpdate",value:function(t){var e;this.props.story!==t.story&&(null===(e=document.getElementById(Y.a))||void 0===e||e.setAttribute("value",this.props.story))}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)("textarea",{style:Object(N.f)(this.props.theme.theme),id:Y.a,onBlur:this.updateStory}),Object(n.jsx)("div",{style:{display:"flex",flexDirection:"row-reverse"},children:Object(n.jsx)(Z.a,{styles:{root:{display:"block"}},text:"play",onClick:this.runStory})})]})}}]),r}(i.Component),et=Object(a.b)((function(t){return{story:t.viewEdit.story,theme:t.settings.theme}}),(function(t){return{saveAndRunStory:Object(H.b)(t),setStory:Object(H.c)(t)}}))(tt),rt=r(107),nt=function t(){Object(p.a)(this,t),this.condition=void 0,this.text=void 0,this.parent=void 0,this.children=void 0,this.condition="",this.text="",this.parent=null,this.children=[]},it=/\/\//g,ot=/\bif\b/g,st=/\bendif\b/g;function at(t,e){var r=t.substring(0,e).lastIndexOf("\n");-1===r&&(r=0);var n=t.substring(e).indexOf("\n");return-1===n&&(n=t.length-1),n+=e,t.substring(r,n).includes("@")}function ut(t,e){var r=t.substring(0,e),n=r.lastIndexOf("{");return!(n<r.lastIndexOf("}")||-1===n)}var lt=function(t){Object(v.a)(r,t);var e=Object(y.a)(r);function r(t){var n;return Object(p.a)(this,r),(n=e.call(this,t)).interpreterRef=void 0,n.interpreterRef=i.createRef(),n}return Object(g.a)(r,[{key:"componentDidUpdate",value:function(){try{!function(t,e,r){var n,i,o={},s={},a=[],u=t.split("\n");0===u.length&&(null===(i=e.current)||void 0===i||i.setEntries({}),e.current&&e.current.setErrorMessage("Parser: Story is blank. The story must not be blank to parse it."));for(var l=0;l<u.length;l++)u[l]=u[l].replace("\r","").trim(),u[l].startsWith("@")&&a.push(l);var c="";if(a.length>0){for(var h,f=0;f<a[0];f++)c+=u[f]+"\n";null===(h=e.current)||void 0===h||h.processHeaderOptions(c)}for(var d=0;d<a.length;d++)if(u[a[d]].length<2)e.current&&e.current.setErrorMessage("Parser: Entry"+u[a[d]]+"must be at least 1 character long.");else{var p=u[a[d]].substring(1),g=[],v="";g=d===a.length-1?u.slice(a[d],u.length):u.slice(a[d],a[d+1]);for(var y=1;y<g.length;y++)v+=g[y]+"\n";void 0!==o[p=p.replace(/\s+/g,"").toLowerCase()]?e.current&&e.current.setErrorMessage("Parser: Entry called '".concat(p,"' already exists.")):o[p]=v}for(var m=Object.keys(o),b=0;b<m.length;b++){var S=void 0,O=o[m[b]];do{S=!0;for(var k=null;null!==(k=it.exec(O));){var j=k.index;if(!ut(O,j)&&!at(O,j)){O=O.slice(j,O.substring(j).indexOf("\n")),S=!1;break}}}while(!S);o[m[b]]=O}for(var w=0;w<m.length;w++){for(var x=new nt,I=x,F=0,E=o[m[w]],T=[],L=[],R=null,M=[],C=[];null!==(R=ot.exec(E));)T.push(R);for(;null!==(R=st.exec(E));)L.push(R);for(var P=0;P<T.length;P++)ut(E,T[P].index)||at(E,T[P].index)||M.push(T[P].index);for(var N=0;N<L.length;N++)ut(E,L[N].index)||at(E,L[N].index)||C.push(L[N].index);M.length!==C.length&&e.current&&e.current.setErrorMessage("Parser: found ".concat(M.length," if tokens, but ").concat(C.length," ")+"endif tokens. Ifs and endifs must match in number.");for(var A=[],D=0;D<M.length;D++)A.push({item1:M[D],item2:0});for(var z=0;z<C.length;z++)A.push({item1:C[z],item2:1});A=A.sort((function(t,e){return t.item1>e.item1?1:-1}));for(var W=0;W<A.length;W++){var B=A[W].item1,H=A[W].item2,_=E.substring(B);_=_.slice(0,_.indexOf("\n"));for(var K=-1,U="",q=W-1;q>=0;q--)if(0===A[q].item2){K=A[q].item1,U=(U=E.substring(K)).slice(0,U.indexOf("\n"));break}for(var G=-1,J="",Q=W-1;Q>=0;Q--)if(1===A[Q].item2){G=A[Q].item1,J=(J=E.substring(G)).slice(0,J.indexOf("\n"));break}var V=G>K?G:K,X=V===G?J:U;if(0===H){if(0!==W&&-1!==K){var $=new nt;$.parent=I;var Y=V+X.length;if(B-Y<0){e.current&&e.current.setErrorMessage("Parser: In '".concat(E.substring(V),"', cannot specify multiple if tokens on one line."));continue}$.text+=E.substring(Y,B),0===$.children.length&&""===$.condition.trim()&&""===$.text.trim()||I.children.push($)}else if(B>0){var Z=new nt;Z.parent=I,Z.text+=E.substring(0,B),0===Z.children.length&&""===Z.condition.trim()&&""===Z.text.trim()||I.children.push(Z)}var tt=new nt;tt.parent=I,tt.condition=_,0===tt.children.length&&""===tt.condition.trim()&&""===tt.text.trim()||I.children.push(tt),I=tt,F++}else if(1===H){var et;if(F<0)return null===(et=e.current)||void 0===et||et.setEntries({}),void(e.current&&e.current.setErrorMessage("Parser: an extra endif token was encountered (if/endif # "+(W+1)+")."));var rt=new nt;rt.parent=I;var lt,ct=V+X.length;if(B-ct<0){e.current&&e.current.setErrorMessage("Parser: In '"+E.substring(V)+"', cannot specify multiple endif tokens on one line.");continue}if(rt.text+=E.substring(ct,B),0===rt.children.length&&""===rt.condition.trim()&&""===rt.text.trim()||I.children.push(rt),null===I.parent)return null===(lt=e.current)||void 0===lt||lt.setEntries({}),void(e.current&&e.current.setErrorMessage("Parser: an extra endif token was encountered (endif #"+W+")."));I=I.parent}}if(A.length>0){var ht=A[A.length-1].item1,ft=E.substring(ht).indexOf("\n");if(-1!==ft){var dt=new nt;dt.parent=x,dt.text+=E.substring(ht+ft),0===dt.children.length&&""===dt.condition.trim()&&""===dt.text.trim()||x.children.push(dt)}}else x.text+=E;s[m[w]]=x}null===(n=e.current)||void 0===n||n.setEntriesWithFork(s,null!==r&&void 0!==r?r:"")}(this.props.storyToParse,this.interpreterRef)}catch(t){this.interpreterRef.current&&"string"===typeof t?this.interpreterRef.current.setErrorMessage(t):this.interpreterRef.current&&t instanceof Error?this.interpreterRef.current.setErrorMessage(t.message):(console.error("Reference to interpreter element was undefined. An additional error follows."),console.error(t))}}},{key:"render",value:function(){return Object(n.jsx)(rt.a,{ref:this.interpreterRef})}}]),r}(i.Component),ct=Object(a.b)((function(t){return{renderTrigger:t.viewEdit.storyReparseToken,storyToParse:t.viewEdit.storyToParse}}))(lt),ht=function(t){Object(v.a)(r,t);var e=Object(y.a)(r);function r(){return Object(p.a)(this,r),e.apply(this,arguments)}return Object(g.a)(r,[{key:"componentDidMount",value:function(){document.body.style.margin="0px"}},{key:"render",value:function(){return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(J,{}),Object(n.jsxs)("div",{className:N.l,children:[Object(n.jsx)("div",{id:Y.b,className:N.j,children:Object(n.jsx)(et,{})}),Object(n.jsx)("div",{id:Y.k,style:Object(N.k)(this.props.theme.theme),children:Object(n.jsx)(ct,{})})]})]})}}]),r}(i.Component),ft=Object(a.b)((function(t){return{theme:t.settings.theme}}))(ht),dt=r(109),pt=r(76),gt={setPlayerStoryInputStyles:Object(k.a)(),setPlayerStoryLogSeparatorStyles:Object(k.a)(),setPlayerStoryOptionStyles:Object(k.a)(),setPlayerStoryOptionHighlightStyles:Object(k.a)(),setPlayerStoryOutputStyles:Object(k.a)(),setPlayerStoryRunnerOptions:Object(k.a)(),setPlayerStoryRunnerStyles:Object(k.a)()},vt=Object(S.c)({playerStoryInputStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===gt.setPlayerStoryInputStyles?e.style:t},playerStoryLogSeparatorStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===gt.setPlayerStoryLogSeparatorStyles?e.style:t},playerStoryOptionStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===gt.setPlayerStoryOptionStyles?e.style:t},playerStoryOptionHighlightStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===gt.setPlayerStoryOptionHighlightStyles?e.style:t},playerStoryOutputStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===gt.setPlayerStoryOutputStyles?e.style:t},playerStoryRunnerOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===gt.setPlayerStoryRunnerOptions?e.options:t},playerStoryRunnerStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{background:{type:"plain"}},e=arguments.length>1?arguments[1]:void 0;return e.type===gt.setPlayerStoryRunnerStyles?e.style:t}}),yt=r(75),mt=Object(S.c)({persistence:P,settings:E,viewEdit:H.d,authorStorySettings:pt.a,currentRunnerSettings:yt.a,playerStorySettings:vt}),bt=Object(S.d)(mt,void 0,Object(S.a)(dt.a));Object(u.a)(),function(){var t=Object.keys(X),e={};t.forEach((function(t){e[t]=X[t].shortcuts.map((function(t){return{shortcut:t,step:0}}))})),window.addEventListener("keypress",(function(r){t.forEach((function(t){for(var n=e[t],i=0;i<n.length;i++){var o=n[i];if(!0!==o.shortcut.disabled){var s=void 0!==o.shortcut.customSequence?o.shortcut.customSequence:o.shortcut.originalSequence;if(0!==s.length)if(s[o.step].key!==r.key.toUpperCase()||Boolean(s[o.step].usesAlt)!==r.altKey||Boolean(s[o.step].usesCtrl)!==r.ctrlKey||Boolean(s[o.step].usesShift)!==r.shiftKey)o.step=0;else{if(o.step===s.length-1)return $(t),void(o.step=0);o.step++}}}}))}))}();var St=Object(n.jsx)(l.c,{children:Object(n.jsx)(l.a,{path:"/",component:ft})});s.a.render(Object(n.jsx)(a.a,{store:bt,children:Object(n.jsx)(c.a,{children:St})}),document.getElementById("root"))},15:function(t,e,r){"use strict";r.d(e,"a",(function(){return o})),r.d(e,"b",(function(){return s})),r.d(e,"c",(function(){return a})),r.d(e,"d",(function(){return u})),r.d(e,"e",(function(){return l})),r.d(e,"f",(function(){return c})),r.d(e,"g",(function(){return h})),r.d(e,"h",(function(){return f})),r.d(e,"i",(function(){return d})),r.d(e,"j",(function(){return p})),r.d(e,"k",(function(){return g})),r.d(e,"l",(function(){return v})),r.d(e,"m",(function(){return y})),r.d(e,"n",(function(){return m})),r.d(e,"o",(function(){return b}));var n=r(19),i=r(2),o=function(){return{root:{alignSelf:"stretch"}}},s=function(t){return{root:{borderColor:t.semanticColors.bodyText,borderRightStyle:"solid",borderWidth:"1px"}}},a=function(t,e){return{caretDownWrapper:Object(i.B)({alignSelf:"center",position:"relative",right:"20px",width:"0px"},null===e||void 0===e?void 0:e.caretDownWrapper),dropdown:Object(i.B)({display:"flex",height:"100%"},null===e||void 0===e?void 0:e.dropdown),dropdownItem:Object(i.B)(Object(n.a)({},t.fonts.large),null===e||void 0===e?void 0:e.dropdownItem),dropdownItemSelected:Object(i.B)(Object(n.a)({},t.fonts.large),null===e||void 0===e?void 0:e.dropdownItemSelected),root:Object(i.B)({alignSelf:"stretch"},null===e||void 0===e?void 0:e.root),title:Object(i.B)({height:"100%",border:"0",borderRadius:"unset",display:"flex",alignItems:"center"},null===e||void 0===e?void 0:e.title)}},u=function(t,e){return e?Object(i.B)(t.fonts.large,{paddingLeft:"12px",paddingRight:"12px",borderColor:t.semanticColors.bodyText,borderRightStyle:"solid",borderWidth:"1px"}):Object(i.B)(t.fonts.large,{paddingLeft:"12px",paddingRight:"12px"})},l={root:{alignItems:"center",height:"4vh",padding:"0px"},primarySet:{alignSelf:"stretch"},secondarySet:{alignSelf:"stretch"}},c=function(t){return{color:t.semanticColors.bodyText,backgroundColor:t.semanticColors.bodyStandoutBackground,borderColor:t.semanticColors.bodyText,borderStyle:"solid",borderWidth:"1px",height:"90vh",padding:0,resize:"none",width:"100%"}},h="Calibri; Times New Roman; Courier New; sans-serif",f=Object(i.B)({display:"none"}),d={root:{marginRight:"8px"}},p=Object(i.B)({height:"90vh",margin:"0 4px 0 0",width:"50vw"}),g=function(t){return{borderColor:t.semanticColors.bodyText,borderStyle:"solid",borderWidth:"1px",margin:"0 0 0 4px",overflowY:"scroll",width:"50vw"}},v=Object(i.B)({display:"flex",alignItems:"stretch"}),y=function(t){return{backgroundColor:t.semanticColors.bodyBackground,color:t.semanticColors.bodyText,alignSelf:"stretch",flexShrink:1,fontSize:"16px",height:"32px"}},m=Object(i.B)({flexGrow:1,margin:"4px"}),b=Object(i.B)({display:"flex",flexDirection:"column",height:"90vh"})},16:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(54),i=r(2),o=Object(n.a)(),s={dark:{localizedName:o.ThemeDark,theme:Object(i.z)({palette:{black:"#ffffff",neutralDark:"#ececec",neutralLight:"#515151",neutralLighter:"#222222",neutralLighterAlt:"#090909",neutralPrimary:"#dcdcdc",neutralPrimaryAlt:"#bbbbbb",neutralQuaternary:"#d0d0d0",neutralQuaternaryAlt:"#dadada",neutralSecondary:"#9f9f9f",neutralTertiary:"#666666",neutralTertiaryAlt:"#ffffff",themeDark:"#ebebeb",themeDarkAlt:"#dbdbdb",themeDarker:"#ffffff",themeLight:"#3f3f3f",themeLighter:"#212121",themeLighterAlt:"#000000",themePrimary:"#bfbfbf",themeSecondary:"#868686",themeTertiary:"#5a5a5a",white:"#000000"}})},light:{localizedName:o.ThemeLight,theme:Object(i.z)({palette:{black:"#000000",neutralDark:"#131313",neutralLight:"#aeaeae",neutralLighter:"#dddddd",neutralLighterAlt:"#f6f6f6",neutralPrimary:"#232323",neutralPrimaryAlt:"#444444",neutralQuaternary:"#2f2f2f",neutralQuaternaryAlt:"#252525",neutralSecondary:"#606060",neutralTertiary:"#999999",neutralTertiaryAlt:"#000000",themeDark:"#141414",themeDarkAlt:"#242424",themeDarker:"#000000",themeLight:"#c0c0c0",themeLighter:"#dedede",themeLighterAlt:"#ffffff",themePrimary:"#404040",themeSecondary:"#797979",themeTertiary:"#a5a5a5",white:"#ffffff"}})}}},17:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(9),i=r(13),o=function(){function t(e){Object(n.a)(this,t),this.strForm=void 0,this.value=void 0,this.strForm=e.toString(),this.value=e}return Object(i.a)(t,[{key:"equals",value:function(t){return this.strForm===t.strForm&&this.value===t.value}}]),t}()},20:function(t,e,r){"use strict";r.d(e,"a",(function(){return n})),r.d(e,"b",(function(){return i})),r.d(e,"c",(function(){return o})),r.d(e,"e",(function(){return s})),r.d(e,"f",(function(){return a})),r.d(e,"i",(function(){return u})),r.d(e,"h",(function(){return l})),r.d(e,"k",(function(){return c})),r.d(e,"d",(function(){return h})),r.d(e,"g",(function(){return f})),r.d(e,"j",(function(){return d}));var n="editor-inputfield",i="editor-wrapper",o="runner-content",s="runner-inputfield",a="runner-log",u="runner-options",l="runner-option-restart",c="runner-wrapper",h="runner-input",f="runner-option",d="runner-output"},28:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(9),i=r(13),o=function(){function t(e,r){Object(n.a)(this,t),this.strForm=void 0,this.value=void 0,this.strForm=e,this.value=r}return Object(i.a)(t,[{key:"equals",value:function(t){return this.strForm===t.strForm&&this.value===t.value}}]),t}()},30:function(t,e,r){"use strict";r.d(e,"a",(function(){return o}));var n=r(9),i=r(13),o=function(){function t(e,r,i){Object(n.a)(this,t),this.strForm=void 0,this.numArgs=void 0,this.function=void 0,this.strForm=e,this.numArgs=r,this.function=i}return Object(i.a)(t,[{key:"equals",value:function(t){return this.strForm===t.strForm&&this.numArgs===t.numArgs&&this.function===t.function}}]),t}()},39:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n=/^-?(\d+\.?\d*|\d*\.?\d+)$/g},42:function(t,e,r){"use strict";r.d(e,"c",(function(){return a})),r.d(e,"b",(function(){return u})),r.d(e,"a",(function(){return l})),r.d(e,"d",(function(){return c}));var n=r(21),i=r(11),o={rerenderStory:Object(i.a)(),saveAndRunStory:Object(i.a)(),updateStory:Object(i.a)()},s={type:o.rerenderStory},a=function(t){return function(e){t(function(t){return{story:t,type:o.updateStory}}(e))}},u=function(t){return function(e){t(function(t){return{story:t,type:o.saveAndRunStory}}(e))}},l=function(t){return function(){t(s)}},c=Object(n.c)({story:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return e.type===o.updateStory||e.type===o.saveAndRunStory?e.story:t},storyReparseToken:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return e.type===o.saveAndRunStory?t+1:t},storyRerenderToken:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1?arguments[1]:void 0;return e.type===o.rerenderStory?t+1:t},storyToParse:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return e.type===o.saveAndRunStory?e.story:t}})},44:function(t,e,r){"use strict";r.d(e,"a",(function(){return i})),r.d(e,"b",(function(){return l}));var n,i,o=r(51),s=r(16),a=r(15);!function(t){t[t.input=0]="input",t[t.option=1]="option",t[t.optionHighlight=2]="optionHighlight",t[t.output=3]="output"}(i||(i={}));var u=(n={},Object(o.a)(n,i.input,{colorLight:s.a.light.theme.semanticColors.errorText,colorDark:s.a.dark.theme.semanticColors.errorText,fontFamily:a.g,fontSize:"1.2 rem",fontStyle:"normal",fontWeight:"normal",textDecoration:"inherit"}),Object(o.a)(n,i.option,{colorLight:s.a.light.theme.semanticColors.link,colorDark:s.a.dark.theme.semanticColors.link,fontFamily:a.g,fontSize:"1.2 rem",fontStyle:"normal",fontWeight:"normal",textDecoration:"underline"}),Object(o.a)(n,i.optionHighlight,{colorLight:s.a.light.theme.semanticColors.linkHovered,colorDark:s.a.dark.theme.semanticColors.linkHovered,fontFamily:a.g,fontSize:"1.2 rem",fontStyle:"normal",fontWeight:"normal",textDecoration:"underline"}),Object(o.a)(n,i.output,{colorLight:s.a.light.theme.semanticColors.bodyText,colorDark:s.a.dark.theme.semanticColors.bodyText,fontFamily:a.g,fontSize:"1.2 rem",fontStyle:"normal",fontWeight:"normal",textDecoration:"inherit"}),n),l=function(t,e,r,n,i){var o=u[i],a=t.localizedName===s.a.light.localizedName?e.colorLight||r.colorLight||n.colorLight||o.colorLight:e.colorDark||r.colorDark||n.colorDark||o.colorDark,l=e.font||r.font||n.font||o.fontFamily,c=e.fontSize||r.fontSize||n.fontSize||o.fontSize,h="normal",f="normal",d="inherit";return e.fontStyle?h=e.fontStyle.includes("i")?"italic":o.fontStyle:r.fontStyle?h=r.fontStyle.includes("i")?"italic":o.fontStyle:n.fontStyle&&(h=n.fontStyle.includes("i")?"italic":o.fontStyle),e.fontStyle?f=e.fontStyle.includes("b")?"bold":o.fontWeight:r.fontStyle?f=r.fontStyle.includes("b")?"bold":o.fontWeight:n.fontStyle&&(f=n.fontStyle.includes("b")?"bold":o.fontWeight),e.fontStyle?d=e.fontStyle.includes("u")?"underline":o.textDecoration:r.fontStyle?d=r.fontStyle.includes("u")?"underline":o.textDecoration:n.fontStyle&&(d=n.fontStyle.includes("u")?"underline":o.textDecoration),{color:a,fontFamily:l,fontSize:c,fontStyle:h,fontWeight:f,textDecoration:d}}},5:function(t,e,r){"use strict";r.d(e,"a",(function(){return s}));var n=r(9),i=r(13),o=r(39),s=function(){function t(e){if(Object(n.a)(this,t),this.strForm=void 0,this.value=void 0,"string"===typeof e){if(this.strForm=e,!o.a.test(e))throw new Error("Parser: The expression '"+e+"' is not a valid number.");this.value=parseFloat(e)}else this.strForm=e.toString(),this.value=e}return Object(i.a)(t,[{key:"equals",value:function(t){return this.strForm===t.strForm&&this.value===t.value}}]),t}()},50:function(t,e,r){"use strict";r.d(e,"a",(function(){return n}));var n={"en-us":{ApplicationName:"Joshua Tree",ApplicationNameAndVersion:function(t,e){return"".concat(t," version ").concat(e)},LanguageCodeName:"English (United States)",MenuFile:"File",MenuFileNew:"New",MenuFileOpen:"Open",MenuFileSave:"Save",ThemeDark:"Dark",ThemeLight:"Light",ThemeDropdownText:function(t){return"".concat(t," theme")},TipLanguage:"Language",TipNavigateCommandBar:"Use left and right arrow keys to navigate between commands.",TipTheme:"Theme"}}},54:function(t,e,r){"use strict";r.d(e,"b",(function(){return o})),r.d(e,"a",(function(){return s}));var n=r(95),i=r(50),o=function(){var t="en-us";if(void 0!==navigator.languages){var e,r=Object(n.a)(navigator.languages);try{for(r.s();!(e=r.n()).done;){var i=e.value.toLowerCase().split("-"),o=i[0],s=i.length>1?i[1]:"";if("".concat(o,"-").concat(s)in a){t="".concat(o,"-").concat(s);break}if("".concat(o)in a){t="".concat(o);break}}}catch(l){r.e(l)}finally{r.f()}}else{var u=navigator.language.toLowerCase();u in a&&(t=u)}return a[t]},s=function(t){return i.a[a[t||o()]]},a={en:"en-us","en-us":"en-us"}},75:function(t,e,r){"use strict";r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return a}));var n=r(21),i=r(11),o={clearAllTempSettings:Object(i.a)(),setCurrentRunnerOptions:Object(i.a)()},s=function(t){return function(e){t(function(t){return{type:o.setCurrentRunnerOptions,options:t}}(e))}},a=Object(n.c)({currentRunnerOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setCurrentRunnerOptions?e.options:e.type===o.clearAllTempSettings?{}:t}})},76:function(t,e,r){"use strict";r.d(e,"b",(function(){return s})),r.d(e,"a",(function(){return a}));var n=r(21),i=r(11),o={setAuthorStoryInputStyles:Object(i.a)(),setAuthorStoryLogSeparatorStyles:Object(i.a)(),setAuthorStoryOptionStyles:Object(i.a)(),setAuthorStoryOptionHighlightStyles:Object(i.a)(),setAuthorStoryOutputStyles:Object(i.a)(),setAuthorStoryRunnerOptions:Object(i.a)(),setAuthorStoryRunnerStyles:Object(i.a)(),setAuthorStoryStrings:Object(i.a)()},s=function(t){return function(e){t(function(t){return{type:o.setAuthorStoryRunnerStyles,style:t}}(e))}},a=Object(n.c)({authorStoryInputStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryInputStyles?e.style:t},authorStoryLogSeparatorStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryLogSeparatorStyles?e.style:t},authorStoryOptionStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryOptionStyles?e.style:t},authorStoryOptionHighlightStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryOptionHighlightStyles?e.style:t},authorStoryOutputStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryOutputStyles?e.style:t},authorStoryRunnerOptions:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryRunnerOptions?e.options:t},authorStoryRunnerStyles:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{background:{type:"plain"}},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryRunnerStyles?e.style:t},authorStoryStrings:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1?arguments[1]:void 0;return e.type===o.setAuthorStoryStrings?e.strings:t}})}},[[142,1,2]]]);
//# sourceMappingURL=main.2dfcc511.chunk.js.map